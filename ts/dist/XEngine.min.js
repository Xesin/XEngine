(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,r.XEngine=e()}})(function(){return function d(m,e,t){function r(i,o){if(!e[i]){if(!m[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(n)return n(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var f=e[i]={exports:{}};m[i][0].call(f.exports,function(t){var e=m[i][1][t];return r(e?e:t)},f,f.exports,d,m,e,t)}return e[i].exports}for(var n="function"==typeof require&&require,a=0;a<t.length;a++)r(t[a]);return r}({1:[function(){"use strict";var e,r=Math.min,t=Math.round;(function(e){e.GameObject=class{constructor(r,t=0,a=0){this.game=r,this.parent=r,this.isPendingDestroy=!1,this.alive=!0,this.alpha=1,this.scale=new e.Vector(1,1),this.anchor=new e.Vector(0,0),this.rotation=0,this.position=new e.Vector(t,a),this.onClick=new e.Signal,this.onInputDown=new e.Signal,this.onInputUp=new e.Signal,this.onInputOver=new e.Signal,this.onInputLeft=new e.Signal,this.inputEnabled=!1,this.render=!0,this.fixedToCamera=!1,this.isometric=!1,this.isInputDown=!1,this.width=0,this.height=0,this._prevWidth=0,this._prevHeight=0,this._prevPos={x:0,y:0},this.shader=null,this._vertDataBuffer=new e.DataBuffer32(96),this._uv=[0,0,0,1,1,0,1,1],this.gl=this.game.context;let i=this.gl,o=new e.DataBuffer16(12);this.vertexBuffer=this.game.renderer.resourceManager.createBuffer(i.ARRAY_BUFFER,this._vertDataBuffer.getByteCapacity(),i.STREAM_DRAW),this.indexBuffer=this.game.renderer.resourceManager.createBuffer(i.ELEMENT_ARRAY_BUFFER,this._vertDataBuffer.getByteCapacity(),i.STATIC_DRAW);let n=o.uintView;for(let e=0,i=0;6>e;e+=6,i+=4)n[e+0]=i+0,n[e+1]=i+1,n[e+2]=i+2,n[e+3]=i+1,n[e+4]=i+3,n[e+5]=i+2;this.indexBuffer.updateResource(n,0),this.mask=null,this.mvMatrix=mat4.create(),mat4.identity(this.mvMatrix),this.pickeable=!1,this.downPos=new e.Vector(0,0),this.posWhenDown=new e.Vector(0,0),this.color=16777215}destroy(){this.kill(),this.isPendingDestroy=!0,this.onDestroy!==void 0&&this.onDestroy()}onDestroy(){}_onInitialize(){this.shader&&(!this.shader.compiled&&this.shader.initializeShader(this.gl),this._setBuffers())}setColor(e,r=1){this.color=e,this.alpha=r,this._setVertices(this.width,this.height,this.color,this._uv)}kill(){this.alive=!1}restore(e,r){this.position.x=e,this.position.y=r,this.alive=!0}getWorldMatrix(r){this.parent.getWorldMatrix(r);let a=[this.position.x,this.position.y,0],i=t(-(this.width*this.anchor.x)),o=t(-(this.height*this.anchor.y));return this.fixedToCamera&&(a[0]+=this.game.camera.position.x,a[1]+=this.game.camera.position.y),mat4.translate(r,r,a),mat4.rotateZ(r,r,this.rotation*e.Mathf.TO_RADIANS),mat4.scale(r,r,[this.scale.x,this.scale.y,1]),mat4.translate(r,r,[i,o,0]),r}getWorldPos(){let r=this.parent.getWorldPos(),t=this.position.x+r.x,a=this.position.y+r.y;return new e.Vector(t,a)}_beginRender(e){this.shader&&this.shader._beginRender(e),this.game.renderer.setRenderer(null,null)}_renderToCanvas(e){this.shader.baseUniforms.pMatrix.value=this.game.camera.pMatrix,this.shader.updateUniforms(e),(this._prevHeight!==this.height||this._prevWidth!==this.width||this._prevPos.x!==this.position.x||this._prevPos.y!==this.position.y)&&(this._setVertices(this.width,this.height,this.color,this._uv),this._prevHeight=this.height,this._prevWidth=this.width,this._prevPos.x=this.position.x,this._prevPos.y=this.position.y),this.vertexBuffer.bind(),this.indexBuffer.bind(),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}rendermask(e){if(e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.ALWAYS,1,1),e.stencilOp(e.REPLACE,e.REPLACE,e.REPLACE),e.enable(e.STENCIL_TEST),this.sprite){let e=this.game.cache.image(this.sprite);this.shader._setTexture(e._texture)}this.shader._beginRender(e),this.shader.baseUniforms.pMatrix.value=this.game.camera.pMatrix,this.shader.updateUniforms(e),this._setVertices(this.width,this.height,this.color,this._uv),this.vertexBuffer.bind(),this.indexBuffer.bind(),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.stencilFunc(e.EQUAL,1,1),e.stencilOp(e.ZERO,e.ZERO,e.ZERO),e.colorMask(!0,!0,!0,!0)}endRendermask(e){e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT)}_endRender(){null!=this.mask}getBounds(){let e=this.width*this.scale.x,r=this.height*this.scale.y,t=this.getWorldPos(),a=e*this.anchor.x,i=r*this.anchor.y,o=t.x-a,n=t.x+e-a,d=t.y-i,s=t.y+r-i;return{width:e,height:r,minX:o,maxX:n,minY:d,maxY:s}}isInsideCamera(){let e=this.getBounds(),r=this.getWorldPos(),t=this.game.camera.position,a={width:this.game.width,height:this.game.height};return!(e.maxX<t.x)&&!(e.maxY<t.y)&&!(e.minX>t.x+a.width)&&!(e.minY>t.y+a.height)}start(){}update(){}_setBuffers(){let e=this.gl;this.shader.bind(e),this.vertexBuffer.addAttribute(this.shader.vertPosAtt,2,e.FLOAT,!1,24,0),this.vertexBuffer.addAttribute(this.shader.vertUvAtt,2,e.FLOAT,!1,24,8),this.vertexBuffer.addAttribute(this.shader.vertColAtt,3,e.UNSIGNED_BYTE,!0,24,16),this.vertexBuffer.addAttribute(this.shader.vertAlphaAtt,1,e.FLOAT,!1,24,20)}_setVertices(r,t,a,i){let o=this._vertDataBuffer.floatView,n=this._vertDataBuffer.uintView,d=0,s=new e.Vector(0,0);this.getWorldMatrix(this.mvMatrix),s=s.multiplyMatrix(this.mvMatrix),o[d++]=s.x,o[d++]=s.y,o[d++]=i[0],o[d++]=i[1],n[d++]=a,o[d++]=this.alpha,s.setTo(0,this.height),s=s.multiplyMatrix(this.mvMatrix),o[d++]=s.x,o[d++]=s.y,o[d++]=i[2],o[d++]=i[3],n[d++]=a,o[d++]=this.alpha,s.setTo(this.width,0),s=s.multiplyMatrix(this.mvMatrix),o[d++]=s.x,o[d++]=s.y,o[d++]=i[4],o[d++]=i[5],n[d++]=a,o[d++]=this.alpha,s.setTo(this.width,this.height),s=s.multiplyMatrix(this.mvMatrix),o[d++]=s.x,o[d++]=s.y,o[d++]=i[6],o[d++]=i[7],n[d++]=a,o[d++]=this.alpha,this.vertexBuffer.updateResource(o,0)}}})(e||(e={}));var e;(function(e){class Audio extends e.GameObject{constructor(r,t,a,i){super(r,0,0),this.isLoop=!1,this.audio=this.game.cache.audio(t).audio,this.persist=!1,this.volume=i||1,this.onComplete=new e.Signal,this.completed=!1,a&&this.play(0)}update(){null!=this.gainNode&&(this.gainNode.gain.value=this.volume)}play(e){this.source=this.game.audioContext.createBufferSource(),this.source.buffer=this.audio,this.source.connect(this.game.audioContext.destination),this.source.onended=()=>{this._complete()},this.gainNode=this.game.audioContext.createGain(),this.source.connect(this.gainNode),this.gainNode.connect(this.game.audioContext.destination),this.gainNode.gain.value=this.volume,this.source.loop=this.isLoop,this.source.start(e||0)}stop(e=0){this.source&&this.source.stop(e||0)}loop(e){this.isLoop=e}destroy(){super.destroy(),this.onComplete&&(this.onComplete._destroy(),delete this.onComplete)}kill(){this.alive=!1,this.stop()}_complete(){this.stop(),this.onComplete&&this.onComplete.dispatch()}}e.Audio=Audio})(e||(e={}));var e;(function(e){e.ObjectFactory=class{constructor(e){this.game=e}existing(e,r=!0,t=!1){return r&&this.game.updateQueue.push(e),t&&this.game.renderQueue.push(e),e.parent=this.game,e._onInitialize(),void 0!==e.start&&e.start(),e}sprite(r,t,a,i){let o=new e.Sprite(this.game,r,t,a,i);return this.existing(o,!0,!0)}image(r,t,a,i){let o=new e.Sprite(this.game,r,t,a,i);return this.existing(o,!1,!0)}audio(r,t,a){let i=new e.Audio(this.game,r,t,a);return this.existing(i,!0,!1)}group(r,t){let a=new e.Group(this.game,r||0,t||0);return this.existing(a,!0,!0)}}})(e||(e={}));var e;(function(e){class Group extends e.GameObject{constructor(e,r,t){super(e,r,t),this.children=[]}_beginRender(){}update(r){this.children.removePending();for(let t,a=this.children.length-1;0<=a;a--)t=this.children[a],t.alive&&(t.update(r),e.Sprite.prototype.isPrototypeOf(t)&&t._updateAnims(this.game.deltaMillis))}getFirstDead(){for(let e,r=this.children.length-1;0<=r;r--)if(e=this.children[r],!e.alive)return e;return null}getChildAtIndex(e){return this.children[e]}childCount(){return this.children.length}destroy(){this.kill(),this.isPendingDestroy=!0;for(let e,r=this.children.length-1;0<=r;r--)e=this.children[r],void 0!==e.destroy&&(e.destroy(),delete this.children[r]);this.children=[],this.onDestroy!==void 0&&this.onDestroy()}add(r){if(0<=this.game.updateQueue.indexOf(r)){let e=this.game.updateQueue.indexOf(r);this.game.updateQueue.splice(e,1)}if(0<=this.game.renderQueue.indexOf(r)){let e=this.game.renderQueue.indexOf(r);this.game.renderQueue.splice(e,1)}if(r.parent.constructor===e.Group&&0<=r.parent.indexOf(r)){let e=r.parent.children.indexOf(r);r.parent.children.splice(e,1)}return this.children.push(r),void 0!==r.start&&r.start(),r.parent=this,r}setAll(e,r){for(let t=this.children.length-1;0<=t;t--)this.children[t][e]=r}callAll(e){for(let r=this.children.length-1;0<=r;r--)void 0!==this.children[r][e]&&this.children[r][e]()}}e.Group=Group})(e||(e={}));var e;(function(e){var r=Math.floor;class Sprite extends e.GameObject{constructor(e,t,a,i,o){super(e,t,a),this.sprite=i,this.game=e,this.frame=o||0;let n=this.game.cache.image(i);if(this.width=n.frameWidth||10,this.height=n.frameHeight||10,this.columns=r(n.image.width/this.width),this.rows=r(n.image.height/this.height),this.tilled=!1,void 0!==this.game.cache.getJson(i)){this.json=this.game.cache.getJson(i);let e;e="string"==typeof this.frame?this.json[this.frame]:this.json.frames[this.frame],this.width=e.frame.w,this.height=e.frame.h}(1<this.columns||1<this.rows||void 0!==this.json)&&(this.tilled=!0),this.position.setTo(t,a),this.shader=this.game.renderer.spriteBatch.shader}_beginRender(){}_renderToCanvas(){if(this.tilled){let e=0,t=0,a=0,i=0,o=this.game.cache.image(this.sprite);if(this.json){let r="string"==typeof this.frame?this.json[this.frame]:this.json.frames[this.frame];let o=r.frame.w,n=r.frame.h;e=r.frame.x,t=r.frame.y,a=e+o,i=t+n}else{let n=this.frame;n>this.columns-1&&(n=this.frame%this.columns);let d=r(this.frame/this.columns);e=n*o.frameWidth,t=d*o.frameHeight,a=e+o.frameWidth,i=t+o.frameHeight}let n=e/o.image.width,d=t/o.image.height,s=a/o.image.width,l=i/o.image.height;this._uv=[n,d,n,l,s,d,s,l]}this.game.renderer.spriteBatch.addSprite(this,this.shader)}reset(r,t){this.position.x=r,this.position.y=t,this.alive=!0,this.start!==void 0&&this.start(),this.body&&(this.body.velocity=new e.Vector(0,0))}_updateAnims(e){this.animation._update(e)}}e.Sprite=Sprite})(e||(e={}));var e;(function(e){let r;(function(e){e.NONE="none",e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e.BOTH="both"})(r=e.AXIS||(e.AXIS={}));e.Camera=class{constructor(r){this.game=r,this.position=new e.Vector(0,0),this.followedObject=null,this.axis=e.AXIS.BOTH,this.pMatrix=mat4.create()}followObject(e,r,t){this.follow=!0,this.offsetLeft=r||0,this.offsetUp=t||0,this.followedObject=e}update(){null!=this.followedObject&&((this.axis===e.AXIS.BOTH||this.axis===e.AXIS.HORIZONTAL)&&0<this.followedObject.position.x-this.offsetLeft-this.game.width/2&&this.followedObject.position.x+this.offsetLeft+this.game.width/2<this.game.worldWidth&&(this.position.x=this.followedObject.position.x-this.game.width/2-this.offsetLeft),(this.axis===e.AXIS.BOTH||this.axis===e.AXIS.VERTICAL)&&0<this.followedObject.position.y-this.offsetUp-this.game.height/2&&this.followedObject.position.y+this.offsetUp+this.game.height/2<this.game.worldHeight&&(this.position.y=this.followedObject.position.y-this.game.height/2-this.offsetUp));let r=this.game.width+this.position.x,t=this.game.height+this.position.y;mat4.ortho(this.pMatrix,this.position.x,r,t,this.position.y,0.1,100)}}})(e||(e={})),Array.prototype.removePending=function(){for(let e=this.length;e--;)this[e].isPendingDestroy&&(void 0!==this[e].body&&this[e].body.destroy(),delete this[e],this.splice(e,1))};var e;(function(e){e.version="2.0";e.Game=class{constructor(r,t,a){this.canvas=document.getElementById(a),this.canvas||(this.canvas=document.body.appendChild(document.createElement("canvas")),this.canvas.id=a),this.position=new e.Vector(0),this.width=r,this.height=t,this.worldWidth=r,this.worldHeight=t,this.canvas.setAttribute("widht",r.toString()),this.canvas.setAttribute("height",t.toString()),this.audioContext=new AudioContext,this.frameLimit=30,this._startTime=0,this._elapsedTime=0,this.frameTime=0,this.previousFrameTime=0,this.deltaTime=0,this.deltaMillis=0,this.pause=!1,this.isMobile=!1,this.ISO_TILE_WIDTH=32,this.ISO_TILE_HEIGHT=32,this.init()}setBackgroundColor(e,r,t,i){this.renderer.setClearColor(e/255,r/255,t/255,i/255)}update(){if((window.requestAnimationFrame?window.requestAnimationFrame(()=>{this.update()}):(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.update()},this.frameLimit/1)),this.elapsedTime=Date.now()-this._startTime,this.frameTime=this.elapsedTime,this.deltaMillis=r(400,this.frameTime-this.previousFrameTime),this.deltaTime=this.deltaMillis/1e3,!(1/this.frameLimit>this.deltaTime))&&(this.previousFrameTime=this.frameTime,!this.pause)&&null!=this.state.currentState&&!this.load.preloading){this.updateQueue.removePending();for(let r,t=this.updateQueue.length-1;0<=t;t--)r=this.updateQueue[t],r.alive&&(r.update(this.deltaTime),e.Sprite.prototype.isPrototypeOf(r)&&r._updateAnims(this.deltaMillis));this.state.currentState.update(this.deltaTime),this.camera.update(),this.renderQueue.removePending(),this.renderer.render()}}destroy(){for(let e,r=this.updateQueue.length-1;0<=r;r--){e=this.updateQueue[r],e.persist||(e.destroy(),e.body!==void 0&&e.body.destroy(),this.updateQueue.splice(r,1));let t=this.renderQueue.indexOf(e);-1!==t&&this.renderQueue.splice(t,1)}for(let e,r=this.renderQueue.length-1;0<=r;r--)e=this.renderQueue[r],e.persist||(e.destroy(),void 0!==e.body&&e.body.destroy(),this.renderQueue.splice(r,1));delete this.camera,this.camera=new e.Camera(this)}getWorldPos(){return this.position}getWorldMatrix(e){mat4.identity(e)}getTotalRotation(){return 0}init(){this._startTime=Date.now(),this._elapsedTime=0,this.frameTime=0,this.previousFrameTime=0,this.deltaTime=0,this.deltaMillis=0,this.updateQueue=[],this.renderQueue=[],this.pause=!1,this.state=new e.StateManager(this),this.add=new e.ObjectFactory(this),this.cache=new e.Cache(this),this.load=new e.Loader(this),this.camera=new e.Camera(this),this.renderer=new e.Renderer(this,this.canvas),this.context=this.renderer.context,this.scale=new e.ScaleManager(this),this.scale.init(),this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),console.log("Game engine "+e.version+" arrancado con webgl!!!"),this.update()}}})(e||(e={}));var e;(function(e){class Mathf{static randomRange(e,r){return e+Math.random()*(r-e)}static randomIntRange(e,r){return t(e+Math.random()*(r-e))}static clamp(e,t,a){return Math.max(r(e,a),t)}static lerp(r,a,i){return i=e.Mathf.clamp(i,0,1),(1-i)*r+i*a}static lerpColor(e,r,t){let a=parseInt(e.replace(/#/g,""),16),i=a>>16,o=255&a>>8,n=255&a,d=parseInt(r.replace(/#/g,""),16);return"#"+(0|16777216+(i+t*((d>>16)-i)<<16)+(o+t*((255&d>>8)-o)<<8)+(n+t*((255&d)-n))).toString(16).slice(1)}static angleBetween(e,r,t,a){return Math.atan2(a-r,t-e)}}Mathf.TO_RADIANS=0.017453292519943295,Mathf.TO_DEGREES=57.29577951308232,e.Mathf=Mathf;class Vector{constructor(e,r=e,t=1){this.zOffset=0,this.x=e,this.y=r,this.z=t,this.zOffset=0}setTo(e,r=e){this.x=e,this.y=r}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyMatrix(e){let r=this.x,t=this.y,a=[,,,];return this.x=r*e[0]+t*e[4]+e[8]+e[12],this.y=r*e[1]+t*e[5]+e[9]+e[13],this}rotate(e){var r=Math.sin,t=Math.cos;let a=this.x,i=this.y;return this.x=a*t(e)-i*r(e),this.y=a*r(e)+i*t(e),this}normalize(){let e=this.length();return 0<e&&(this.x/=e,this.y/=e),this}project(e){let r=this.dot(e)/e.len2();return this.x=r*e.x,this.y=r*e.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this}reflect(e){let r=this.x,t=this.y;return this.project(e).scale(2),this.x-=r,this.y-=t,this}distance(r){let t=new e.Vector(this.x,this.y,this.z);return t.sub(r),t.length()}len2(){return this.dot(this)}length(){return Math.sqrt(this.len2())}dot(e){return this.x*e.x+this.y*e.y}}Vector.Zero=new Vector(0),e.Vector=Vector})(e||(e={}));var e;(function(e){let r;(function(e){e[e.FIT=0]="FIT",e[e.SHOW_ALL=1]="SHOW_ALL",e[e.NO_SCALE=2]="NO_SCALE"})(r=e.Scale||(e.Scale={}));e.ScaleManager=class{constructor(e){this.game=e,this.scaleType=r.NO_SCALE,this.orientation="landScape",this.sourceAspectRatio=0}init(){let e=this;window.addEventListener("resize",function(r){e.onWindowsResize(r)},!0)}updateScale(){if(this.scaleType!==e.Scale.NO_SCALE){let r=0,a=0;this.scaleType===e.Scale.FIT?(r=window.innerWidth,a=window.innerHeight):(this.sourceAspectRatio=this.game.width/this.game.height,a=window.innerHeight,r=a*this.sourceAspectRatio,r>window.innerWidth&&(r=window.innerWidth,a=r/this.sourceAspectRatio)),r=t(r),a=t(a),this.resizeCanvas(r,a)}}resizeCanvas(e,r){this.game.canvas.setAttribute("width",e),this.game.canvas.setAttribute("height",r),this.game.renderer.setScale(e/this.game.width,r/this.game.height),this.game.context.viewport(0,0,e,r)}onWindowsResize(){this.updateScale()}}})(e||(e={}));var e;(function(e){e.StateManager=class{constructor(e){this.game=e,this.states=[],this.currentState=null,this.currentStateName=null}add(e,r){this.states[e]=r}start(e){let r=this;null!=r.currentState&&(r.game.destroy(),r.currentState.destroy!==void 0&&r.currentState.destroy(),delete r.currentState,r.currentState=null);let t=r.states[e];return null==t?void console.error("no state for name "+e):void(r.currentState=new t(r.game),r.currentState.update===void 0&&(r.currentState.update=function(){}),r.currentState.game=r.game,r.currentState.stateName=e,r.currentState.preload!==void 0&&r.currentState.preload(),r.game.scale.updateScale(),r.game.load._startPreload())}restart(){this.start(this.currentState.stateName)}}})(e||(e={}));var e;(function(e){e.Renderer=class{constructor(r,t){this.game=r,this.clearColor={r:0,g:0,b:0,a:0},this.scale=new e.Vector(1);this.context=t.getContext("webgl2",{stencil:!0,antialias:!1}),this.context?(this.context.clearColor(this.clearColor.r,this.clearColor.g,this.clearColor.b,this.clearColor.a),this.context.clear(this.context.COLOR_BUFFER_BIT),this.context.blendFunc(this.context.ONE,this.context.ONE_MINUS_SRC_ALPHA),this.context.disable(this.context.DEPTH_TEST),this.context.enable(this.context.BLEND),this.context.viewport(0,0,+this.game.canvas.getAttribute("width"),+this.game.canvas.getAttribute("height")),this.resourceManager=new e.ResourceManager(this.context),this.spriteBatch=new e.SpriteBatcher.SpriteBatch(this.game,this.context,this),this.renderer=null,this.sprite=void 0):(alert("Imposible inicializar WebGL. Tu navegador puede no soportarlo."),this.context=null)}render(){this.context.clear(this.context.COLOR_BUFFER_BIT|this.context.DEPTH_BUFFER_BIT),this.context.viewport(0,0,this.game.canvas.width,this.game.canvas.height),this.renderLoop(this.game.renderQueue),this.renderer&&(this.renderer.flush(),this.renderer=null,this.sprite=null)}setRenderer(e,r){(this.renderer!==e||this.sprite!==r)&&this.renderer&&this.renderer.flush(),e&&e.shouldFlush()&&e.flush(),this.renderer=e,this.sprite=r}setClearColor(e,r,t,i){this.clearColor.r=e,this.clearColor.g=r,this.clearColor.b=t,this.clearColor.a=i,this.context.clearColor(this.clearColor.r,this.clearColor.g,this.clearColor.b,this.clearColor.a)}renderLoop(r){let t=this;for(let a,o=0;o<r.length;o++)if(a=r[o],!!a.render)if(e.Group.prototype.isPrototypeOf(a))a._beginRender(t.context),t.renderLoop(a.children),a._endRender(t.context);else if(!e.Audio.prototype.isPrototypeOf(a)){if(!a.alive)continue;if(this.game.autoCulling&&!a.isInsideCamera())continue;a._beginRender(t.context),a._renderToCanvas(t.context),void 0!==a.body&&a.body._renderBounds(t.context),a._endRender(t.context)}}setScale(e,r){this.scale.x=e,this.scale.y=r||e}}})(e||(e={}));var e;(function(e){e.AudioLoader=class{constructor(e,r,t){this.audioName=e,this.audioUrl=r,this.completed=!1,this.loader=t}load(){let e=this,r={audioName:e.audioName,audio:null,decoded:!1},t=new XMLHttpRequest;t.open("GET",e.audioUrl,!0),t.responseType="arraybuffer";t.onload=function(){let r=e.loader.game.cache.audios[e.audioName];200===t.status?e.loader.game.audioContext.decodeAudioData(t.response,function(t){r.audio=t,r.decoded=!0,e.completed=!0,e.loader._notifyCompleted()},function(){e.completed=!0,e.loader._notifyCompleted()}):(e.completed=!0,e.loader._notifyCompleted())},e.loader.game.cache.audios[e.audioName]=r,t.send()}}})(e||(e={}));var e;(function(e){e.Cache=class{constructor(e){this.game=e,this.images=[],this.audios=[],this.json=[]}image(e){return void 0===this.images[e]?void console.error("No hay imagen para el nombre: "+e):this.images[e]}audio(e){return void 0===this.audios[e]?void console.error("No hay audio para el nombre: "+e):this.audios[e]}getJson(e){return this.json[e]}clearCache(){delete this.images,delete this.audios,delete this.json,this.images=[],this.audios=[],this.json=[]}}})(e||(e={}));var e;(function(e){e.ImageLoader=class{constructor(e,r,t,a=0,i=0){this.imageName=e,this.imageUrl=r,this.completed=!1,this.loader=t,this.frameWidth=a,this.frameHeight=i}load(){let r=this,t=new e.Texture2D(r.imageName,r.frameWidth,r.frameHeight,1),a=new Image,i=function(){let a=r.loader.game.cache.images[r.imageName];a.image=this,r.completed=!0,0===r.frameWidth?(a.frameWidth=this.width,t.wrapMode=e.WRAP_MODE.CLAMP):a.frameWidth=r.frameWidth,0===r.frameHeight?(a.frameHeight=this.height,t.wrapMode=e.WRAP_MODE.CLAMP):a.frameHeight=r.frameHeight,a.createTexture(r.loader.game.context),r.loader._notifyCompleted()};a.onload=i,a.onerror=i,a.src=r.imageUrl,r.loader.game.cache.images[t.imageName]=t}}})(e||(e={}));var e;(function(e){e.JsonImageLoader=class{constructor(e,r,t,a){this.imageName=e,this.imageUrl=r,this.jsonUrl=t,this.completed=!1,this.loader=a,this.frameWidth=0,this.frameHeight=0,this.oneCompleted=!1,this.loader.image(this.imageName,this.imageUrl)}load(){this.loadJson()}loadJson(){let e=this,r=new XMLHttpRequest;r.open("GET",e.jsonUrl,!0);r.onload=function(){if(200===r.status){let t=JSON.parse(r.responseText),a=t;for(let e,r=0;r<a.frames.length;r++)e=a.frames[r],a[e.filename]=e;e.loader.game.cache.json[e.imageName]=a}e.completed=!0,e.loader._notifyCompleted()},r.send()}}})(e||(e={}));var e;(function(e){e.Loader=class{constructor(r){this.game=r,this.pendingLoads=[],this.progress=0,this.preloading=!1,this.onCompleteFile=new e.Signal}image(r,t){this.pendingLoads.push(new e.ImageLoader(r,t,this))}spriteSheet(r,t,a,i){this.pendingLoads.push(new e.ImageLoader(r,t,this,a,i))}jsonSpriteSheet(r,t,a){this.pendingLoads.push(new e.JsonImageLoader(r,t,a,this))}audio(r,t){this.pendingLoads.push(new e.AudioLoader(r,t,this))}_startPreload(){if(this.preloading=!0,0===this.pendingLoads.length)this._callStart();else for(let e=0;e<this.pendingLoads.length;e++)this.pendingLoads[e].load()}_notifyCompleted(){let e=0;for(let r=0;r<this.pendingLoads.length;r++)this.pendingLoads[r].completed&&e++;this.progress=e/this.pendingLoads.length,this.onCompleteFile.dispatch(this.progress),1===this.progress&&(delete this.pendingLoads,this.onCompleteFile._destroy(),this.pendingLoads=[],this._callStart())}_callStart(){this.preloading=!1,this.game.state.currentState.start()}}})(e||(e={}));var e;(function(e){e.Signal=class{constructor(){this.bindings=[]}add(r,t){let a=new e.SignalBinding(this,r,t,!1);return this.bindings.push(a),a}addOnce(r,t){let a=new e.SignalBinding(this,r,t,!0);return this.bindings.push(a),a}remove(e){for(let r=0;r<this.bindings.length;r++)this.bindings[r].listenerContext===e&&this.bindings.splice(r,1)}_destroy(){delete this.bindings,this.bindings=[]}dispatch(...e){this._cleanup();for(let r=0;r<this.bindings.length;r++)this.bindings[r].dispatch.apply(this.bindings[r],arguments)}_cleanup(){for(let e=this.bindings.length-1;0<=e;e--)(null==this.bindings[e]||void 0===this.bindings[e])&&this.bindings.splice(e,1)}}})(e||(e={}));var e;(function(e){e.SignalBinding=class{constructor(e,r,t,a){this.isOnce=!1,this.signal=e,this.listener=r,this.listenerContext=t,this.isOnce=a}dispatch(){this.listener.apply(this.listenerContext,arguments),this.isOnce&&this.detach()}detach(){this.signal.remove(this.listenerContext)}}})(e||(e={}));var e;(function(e){e.DataBuffer16=class{constructor(e){this.wordLength=0,this.wordCapacity=e/4,this.buffer=new ArrayBuffer(e),this.intView=new Int16Array(this.buffer),this.uintView=new Uint16Array(this.buffer)}clear(){this.wordLength=0}getByteLength(){return 4*this.wordLength}getByteCapacity(){return this.buffer.byteLength}allocate(e){let r=this.wordLength;return this.wordLength+=e,r}getUsedBufferAsInt(){return this.intView.subarray(0,this.wordLength)}getUsedBufferAsUint(){return this.uintView.subarray(0,this.wordLength)}}})(e||(e={}));var e;(function(e){e.DataBuffer32=class{constructor(e){this.wordLength=0,this.wordCapacity=e/4,this.buffer=new ArrayBuffer(e),this.floatView=new Float32Array(this.buffer),this.intView=new Int32Array(this.buffer),this.uintView=new Uint32Array(this.buffer)}clear(){this.wordLength=0}getByteLength(){return 4*this.wordLength}getByteCapacity(){return this.buffer.byteLength}allocate(e){let r=this.wordLength;return this.wordLength+=e,r}getUsedBufferAsFloat(){return this.floatView.subarray(0,this.wordLength)}getUsedBufferAsInt(){return this.intView.subarray(0,this.wordLength)}getUsedBufferAsUint(){return this.uintView.subarray(0,this.wordLength)}}})(e||(e={}));var e;(function(e){class IndexBuffer{constructor(e,r){this.gl=e,this.bufferType=e.ELEMENT_ARRAY_BUFFER,this.buffer=r}static SetDiry(){IndexBuffer.CurrentIndexBuffer=null}updateResource(e,r){let t=this.gl;IndexBuffer.CurrentIndexBuffer=this,t.bindBuffer(this.bufferType,this.buffer),t.bufferSubData(this.bufferType,r,e)}bind(){let e=this.gl,r=this.buffer;IndexBuffer.CurrentIndexBuffer=this,e.bindBuffer(this.bufferType,r)}}e.IndexBuffer=IndexBuffer})(e||(e={}));var e;(function(e){e.ResourceManager=class{constructor(e){this.gl=e}createBuffer(r,t,a){let i=this.gl,o=i.createBuffer();return i.bindBuffer(r,o),i.bufferData(r,t,a),r===i.ARRAY_BUFFER?new e.VertexBuffer(i,o):r===i.ELEMENT_ARRAY_BUFFER?new e.IndexBuffer(i,o):void 0}createShader(e){let r=new e;return r.initializeShader(this.gl),r}}})(e||(e={}));var e;(function(e){let r;(function(e){e[e.CLAMP=0]="CLAMP",e[e.WRAP=1]="WRAP"})(r=e.WRAP_MODE||(e.WRAP_MODE={}));e.Texture2D=class{constructor(e,t,a,i=r.CLAMP){this.imageName=e,this.frameWidth=t,this.frameHeight=a,this._texture=null,this.ready=!1,this.wrapMode=i}createTexture(e){if(null!=this.imageName){this._texture=e.createTexture();const t=e.RGBA,a=e.RGBA,i=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,this._texture),this.wrapMode===r.WRAP?(e.texImage2D(e.TEXTURE_2D,0,t,a,i,this.image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texImage2D(e.TEXTURE_2D,0,t,a,i,this.image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.ready=!0}}}})(e||(e={}));var e;(function(e){class VertexBuffer{constructor(e,r){this.gl=e,this.bufferType=e.ARRAY_BUFFER,this.buffer=r,this.attributes=[]}static SetDiry(){VertexBuffer.CurrentVertexBuffer=null}addAttribute(e,r,t,a,i,o){this.attributes.push({index:e,size:r,type:t,normalized:a,stride:i,offset:o})}updateResource(e,r){let t=this.gl;VertexBuffer.CurrentVertexBuffer=this,t.bindBuffer(this.bufferType,this.buffer),t.bufferSubData(this.bufferType,r,e)}bind(){let e=this.gl,r=this.buffer,t=this.attributes,a=t.length;VertexBuffer.CurrentVertexBuffer=this,e.bindBuffer(e.ARRAY_BUFFER,r);for(let r,i=0;i<a;++i)r=t[i],void 0!==r&&null!==r&&(e.enableVertexAttribArray(r.index),e.vertexAttribPointer(r.index,r.size,r.type,r.normalized,r.stride,r.offset))}}e.VertexBuffer=VertexBuffer})(e||(e={}));var e;(function(e){let r;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INTEGER=1]="INTEGER",e[e.MAT2X2=2]="MAT2X2",e[e.MAT3X3=3]="MAT3X3",e[e.MAT4X4=4]="MAT4X4",e[e.VECTOR2=5]="VECTOR2",e[e.VECTOR3=6]="VECTOR3",e[e.VECTOR4=7]="VECTOR4",e[e.SAMPLER=8]="SAMPLER"})(r=e.Uniforms||(e.Uniforms={}));class ShaderCompiler{static compileVertexShader(e){return e=e.replace("#XBaseParams",this.vertexBaseParams.join("\n")),e+=this.vertexMain.join("\n"),e}static compileFragmentShader(e){return e=e.replace("#XBaseParams",this.fragmentBaseParams.join("\n")),e}}ShaderCompiler.vertexBaseParams=["in vec2 aVertexPosition;","in vec2 vUv;","in vec3 aVertexColor;","in float in_alpha;","uniform mat4 pMatrix;","out highp vec2 uv;","vec4 vertPos;","out lowp vec3 vColor;","out lowp float alpha;"],ShaderCompiler.fragmentBaseParams=["in lowp vec3 vColor;","in highp vec2 uv;","in float alpha;","out vec4 fragColor;"],ShaderCompiler.vertexMain=["void main(void) {","vertPos = pMatrix * vec4(aVertexPosition, -1.0, 1.0);","uv = vUv;","vColor = aVertexColor;","alpha = in_alpha;","mainPass();","gl_Position = vertPos;","}"],e.ShaderCompiler=ShaderCompiler})(e||(e={}));var e;(function(e){e.ShaderUniforms={pMatrix:{value:null,type:e.Uniforms.MAT4X4}};e.Shader=class{constructor(r,t,a={}){this.uniforms=a,this.baseUniforms=JSON.parse(JSON.stringify(e.ShaderUniforms)),this.vertColAtt=null,this.vertColAtt=null,this.shaderProgram=null,this.compiled=!1,this.vertexCode=r,this.fragmentCode=t}initializeShader(r){let t="",a="";for(let e=0;e<this.vertexCode.length;e++)t+=this.vertexCode[e]+"\n";t=e.ShaderCompiler.compileVertexShader(t);for(let e=0;e<this.fragmentCode.length;e++)a+=this.fragmentCode[e]+"\n";a=e.ShaderCompiler.compileFragmentShader(a);let i,o;return o=r.createShader(r.FRAGMENT_SHADER),i=r.createShader(r.VERTEX_SHADER),r.shaderSource(i,t),r.compileShader(i),r.shaderSource(o,a),r.compileShader(o),r.getShaderParameter(i,r.COMPILE_STATUS)?r.getShaderParameter(o,r.COMPILE_STATUS)?void(this.shaderProgram=r.createProgram(),r.attachShader(this.shaderProgram,i),r.attachShader(this.shaderProgram,o),r.linkProgram(this.shaderProgram),!r.getProgramParameter(this.shaderProgram,r.LINK_STATUS)&&(alert("Could not initialise shaders"),this.compiled=!0),this.compiled=!0,this.setUniforms(r)):(alert(r.getShaderInfoLog(o)),this.compiled=!0,null):(alert(r.getShaderInfoLog(i)),this.compiled=!0,null)}setUniforms(e){for(let r in e.useProgram(this.shaderProgram),this.vertPosAtt=e.getAttribLocation(this.shaderProgram,"aVertexPosition"),this.vertColAtt=e.getAttribLocation(this.shaderProgram,"aVertexColor"),this.vertUvAtt=e.getAttribLocation(this.shaderProgram,"vUv"),this.vertAlphaAtt=e.getAttribLocation(this.shaderProgram,"in_alpha"),this.uniforms)this.uniforms.hasOwnProperty(r)&&(this.uniforms[r].gpuPosition=e.getUniformLocation(this.shaderProgram,r));for(let r in this.baseUniforms)this.baseUniforms.hasOwnProperty(r)&&(this.baseUniforms[r].gpuPosition=e.getUniformLocation(this.shaderProgram,r))}getAttribLocation(e,r){return e.getAttribLocation(this.shaderProgram,r)}_beginRender(e){this.compiled||this.initializeShader(e),e.useProgram(this.shaderProgram)}bind(e){this.compiled||this.initializeShader(e),e.useProgram(this.shaderProgram)}_setUniform(r,t){let a=r.type;switch(a){case e.Uniforms.INTEGER:t.uniform1i(r.gpuPosition,r.value);break;case e.Uniforms.FLOAT:t.uniform1f(r.gpuPosition,r.value);break;case e.Uniforms.VECTOR2:t.uniform2fv(r.gpuPosition,r.value);break;case e.Uniforms.VECTOR3:t.uniform3fv(r.gpuPosition,r.value);break;case e.Uniforms.VECTOR4:t.uniform4fv(r.gpuPosition,r.value);break;case e.Uniforms.MAT2X2:t.uniformMatrix2fv(r.gpuPosition,!1,r.value);break;case e.Uniforms.MAT3X3:t.uniformMatrix3fv(r.gpuPosition,!1,r.value);break;case e.Uniforms.MAT4X4:t.uniformMatrix4fv(r.gpuPosition,!1,r.value);break;default:t.uniform1f(r.gpuPosition,r.value);}}updateUniforms(e){for(const r in this.uniforms)this.uniforms.hasOwnProperty(r)&&(this._setUniform(this.uniforms[r],e),this.uniforms[r].prevVal=this.uniforms[r].value);for(let r in this.baseUniforms)this.baseUniforms.hasOwnProperty(r)&&(this._setUniform(this.baseUniforms[r],e),this.baseUniforms[r].prevVal=this.baseUniforms[r].value)}}})(e||(e={}));var e;(function(e){let r;(function(e){class ShaderLibObject{}e.ShaderLibObject=ShaderLibObject;class Sprite extends ShaderLibObject{}Sprite.vertexShader=["#version 300 es","#XBaseParams","void mainPass() {","}"],Sprite.fragmentShader=["#version 300 es","precision mediump float;","uniform sampler2D texSampler;","#XBaseParams","void main(void) {","vec4 texCol = texture(texSampler, uv);","texCol.rgb *= texCol.w;","texCol.xyz *= vColor;","fragColor = texCol*alpha;","}"],e.Sprite=Sprite;class SimpleColor extends ShaderLibObject{}SimpleColor.vertexShader=["#version 300 es","#XBaseParams","void mainPass() {","}"],SimpleColor.fragmentShader=["#version 300 es","precision mediump float;","#XBaseParams","void main(void) {","fragColor = vec4(vColor, alpha) * alpha;","}"],e.SimpleColor=SimpleColor;class CircleColor extends ShaderLibObject{}CircleColor.vertexShader=["#version 300 es","#XBaseParams","void mainPass() {","}"],CircleColor.fragmentShader=["#version 300 es","precision mediump float;","#XBaseParams","void main(void) {","vec2 uvOffset = uv - 0.5;","float distance = length(uvOffset);","float res = smoothstep(distance,distance+0.04,0.5);","if(res < 0.1) discard;","fragColor = vec4(1.0, 1.0, 1.0, res) * res * alpha;","fragColor.xyz *= vColor;","}"],e.CircleColor=CircleColor})(r=e.ShaderLib||(e.ShaderLib={}))})(e||(e={}));var e;(function(e){class CircleColor extends e.Shader{constructor(){super(e.ShaderLib.CircleColor.vertexShader,e.ShaderLib.CircleColor.fragmentShader)}}CircleColor.shader=new CircleColor,e.CircleColor=CircleColor})(e||(e={}));var e;(function(e){class SimpleColor extends e.Shader{constructor(){super(e.ShaderLib.SimpleColor.vertexShader,e.ShaderLib.SimpleColor.fragmentShader)}}SimpleColor.shader=new SimpleColor,e.SimpleColor=SimpleColor})(e||(e={}));var e;(function(e){class SpriteShader extends e.Shader{constructor(){super(e.ShaderLib.Sprite.vertexShader,e.ShaderLib.Sprite.fragmentShader)}_setTexture(e){this.texture=e}_beginRender(r){e.Shader.prototype._beginRender.call(this,r),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.texture)}}SpriteShader.shader=new SpriteShader,e.SpriteShader=SpriteShader})(e||(e={}));var e;(function(e){let r;(function(e){class Consts{}Consts.VERTEX_SIZE=24,Consts.INDEX_SIZE=2,Consts.VERTEX_COUNT=4,Consts.INDEX_COUNT=6,Consts.VERTEX_COMPONENT_COUNT=6,Consts.MAX_SPRITES=2e3,e.Consts=Consts})(r=e.SpriteBatcher||(e.SpriteBatcher={}))})(e||(e={}));var e;(function(e){let r;(function(r){r.SpriteBatch=class{constructor(e,r,t){this.gl=r,this.game=e,this.renderer=t,this.maxSprites=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.currentTexture2D=null,this.currentSprite=null,this.mask=null,this.vertexCount=0,this.init(this.gl)}shouldFlush(){return!!this.isFull()}isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()}bind(e){e?(e.bind(this.gl),e.baseUniforms.pMatrix.value=this.game.camera.pMatrix,e._setTexture(this.currentTexture2D),e.updateUniforms(this.gl)):(this.shader.bind(this.gl),this.shader.baseUniforms.pMatrix.value=this.game.camera.pMatrix,this.shader._setTexture(this.currentTexture2D),this.shader.updateUniforms(this.gl)),this.gl.bindTexture(this.gl.TEXTURE_2D,this.currentTexture2D),this.vertexBufferObject.bind(),this.indexBufferObject.bind()}flush(e){let r=this.gl;this.mask&&this.mask.rendermask(r);let t=this.vertexDataBuffer;0===this.elementCount&&0===this.vertexCount||(this.bind(e),this.vertexBufferObject.updateResource(t.floatView,0),r.drawElements(r.TRIANGLES,this.elementCount,r.UNSIGNED_SHORT,0),t.clear(),this.elementCount=0,this.vertexCount=0,this.mask&&(this.mask.endRendermask(r),this.mask=null))}addSprite(r,t){(r.mask!==this.mask||this.shader!==t)&&(this.flush(this.shader),this.shader=t),r.mask&&(this.mask=r.mask),this.renderer.setRenderer(this,r.sprite);let a=this.vertexDataBuffer.floatView,i=this.vertexDataBuffer.uintView,o=this.vertexDataBuffer.allocate(24),n=new e.Vector(0,0);mat4.identity(r.mvMatrix),r.getWorldMatrix(r.mvMatrix),n=n.multiplyMatrix(r.mvMatrix),a[o++]=n.x,a[o++]=n.y,a[o++]=r._uv[0],a[o++]=r._uv[1],i[o++]=r.color,a[o++]=r.alpha,n.setTo(0,r.height),n=n.multiplyMatrix(r.mvMatrix),a[o++]=n.x,a[o++]=n.y,a[o++]=r._uv[2],a[o++]=r._uv[3],i[o++]=r.color,a[o++]=r.alpha,n.setTo(r.width,0),n=n.multiplyMatrix(r.mvMatrix),a[o++]=n.x,a[o++]=n.y,a[o++]=r._uv[4],a[o++]=r._uv[5],i[o++]=r.color,a[o++]=r.alpha,n.setTo(r.width,r.height),n=n.multiplyMatrix(r.mvMatrix),a[o++]=n.x,a[o++]=n.y,a[o++]=r._uv[6],a[o++]=r._uv[7],i[o++]=r.color,a[o++]=r.alpha,this.currentTexture2D=this.game.cache.image(r.sprite)._texture,this.currentSprite=r.sprite,this.elementCount+=6}init(t){let a=new e.DataBuffer32(r.Consts.VERTEX_SIZE*r.Consts.VERTEX_COUNT*r.Consts.MAX_SPRITES),i=new e.DataBuffer16(r.Consts.INDEX_SIZE*r.Consts.INDEX_COUNT*r.Consts.MAX_SPRITES),o=this.renderer.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),n=this.renderer.resourceManager.createBuffer(t.ARRAY_BUFFER,a.getByteCapacity(),t.STREAM_DRAW),d=this.renderer.resourceManager.createShader(e.SpriteShader),s=i.uintView,l=r.Consts.MAX_SPRITES*r.Consts.INDEX_COUNT;this.vertexDataBuffer=a,this.vertexBufferObject=n,this.indexDataBuffer=i,this.indexBufferObject=o,this.shader=d,n.addAttribute(d.getAttribLocation(t,"aVertexPosition"),2,t.FLOAT,!1,r.Consts.VERTEX_SIZE,0),n.addAttribute(d.getAttribLocation(t,"vUv"),2,t.FLOAT,!1,r.Consts.VERTEX_SIZE,8),n.addAttribute(d.getAttribLocation(t,"aVertexColor"),3,t.UNSIGNED_BYTE,!0,r.Consts.VERTEX_SIZE,16),n.addAttribute(d.getAttribLocation(t,"in_alpha"),1,t.FLOAT,!1,r.Consts.VERTEX_SIZE,20);for(let e=0,a=0;e<l;e+=r.Consts.INDEX_COUNT,a+=r.Consts.VERTEX_COUNT)s[e+0]=a+0,s[e+1]=a+1,s[e+2]=a+2,s[e+3]=a+1,s[e+4]=a+3,s[e+5]=a+2;o.updateResource(s,0)}}})(r=e.SpriteBatcher||(e.SpriteBatcher={}))})(e||(e={}))},{}]},{},[1])(1)});
//# sourceMappingURL=XEngine.min.js.map
